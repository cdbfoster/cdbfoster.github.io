<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `State` trait in crate `zero_sum`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, State">

    <title>zero_sum::State - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='index.html'>zero_sum</a></p><script>window.sidebarCurrent = {name: 'State', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content trait">
<h1 class='fqn'><span class='in-band'>Trait <a href='index.html'>zero_sum</a>::<wbr><a class='trait' href=''>State</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-556' class='srclink' href='../src/zero_sum/src/state.rs.html#81-113' title='goto source code'>[src]</a></span></h1>
<pre class='rust trait'>pub trait State&lt;P,&nbsp;R&gt;: <a class='trait' href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html' title='core::clone::Clone'>Clone</a> + <a class='trait' href='https://doc.rust-lang.org/nightly/core/fmt/trait.Display.html' title='core::fmt::Display'>Display</a> + <a class='trait' href='https://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html' title='core::cmp::Eq'>Eq</a> + <a class='trait' href='https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html' title='core::hash::Hash'>Hash</a> + <a class='trait' href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html' title='core::cmp::PartialEq'>PartialEq</a> <span class='where'>where P: <a class='trait' href='../zero_sum/trait.Ply.html' title='zero_sum::Ply'>Ply</a>, R: <a class='trait' href='../zero_sum/trait.Resolution.html' title='zero_sum::Resolution'>Resolution</a></span> {
    fn <a href='#tymethod.execute_ply_preallocated' class='fnname'>execute_ply_preallocated</a>(&amp;self, ply: &amp;P, next: &amp;mut Self) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>,&nbsp;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>&gt;;
    fn <a href='#tymethod.check_resolution' class='fnname'>check_resolution</a>(&amp;self) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;R&gt;;

    fn <a href='#method.execute_ply' class='fnname'>execute_ply</a>(&amp;self, ply: &amp;P) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;Self,&nbsp;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>&gt; { ... }
    fn <a href='#method.execute_plies' class='fnname'>execute_plies</a>(&amp;self, plies: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;[</a>P<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;Self,&nbsp;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>&gt; { ... }
}</pre><div class='docblock'><p>The state of the game.</p>

<p>This should represent everything that makes up a single moment of the game, i.e. in chess,
this would be the board and all of its pieces, the turn number, etc.</p>

<p>However, if the implementor of this trait does store data that changes or increments every turn,
like a turn number, it is recommended to implement <code>Hash</code> manually and to exclude that data from
the hash, perhaps simplifying it into the next player to move.  This is in order to allow
the struct to benefit from certain search optimization techniques -- primarily a transposition
table.</p>

<h1 id='example' class='section-header'><a href='#example'>Example</a></h1>
<p>For tic-tac-toe, we might have:</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>enum</span> <span class='ident'>Mark</span> { <span class='ident'>X</span>, <span class='ident'>O</span> }
<span class='kw'>struct</span> <span class='ident'>Move</span> { <span class='comment'>/* ... */</span> }
<span class='kw'>enum</span> <span class='ident'>End</span> { <span class='comment'>/* ... */</span> }

<span class='kw'>struct</span> <span class='ident'>Board</span>([<span class='prelude-ty'>Option</span><span class='op'>&lt;</span><span class='ident'>Mark</span><span class='op'>&gt;</span>; <span class='number'>9</span>], <span class='ident'>u8</span>); <span class='comment'>// The board and the turn number</span>

<span class='kw'>impl</span> <span class='ident'>State</span><span class='op'>&lt;</span><span class='ident'>Move</span>, <span class='ident'>End</span><span class='op'>&gt;</span> <span class='kw'>for</span> <span class='ident'>Board</span> {
    <span class='kw'>fn</span> <span class='ident'>execute_ply_preallocated</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>, <span class='ident'>ply</span>: <span class='kw-2'>&amp;</span><span class='ident'>Move</span>, <span class='ident'>next</span>: <span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='ident'>Board</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span>(), <span class='ident'>String</span><span class='op'>&gt;</span> {
        <span class='comment'>// ...</span>
    }

    <span class='kw'>fn</span> <span class='ident'>check_resolution</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Option</span><span class='op'>&lt;</span><span class='ident'>End</span><span class='op'>&gt;</span> {
        <span class='comment'>// ...</span>
    }
}

<span class='kw'>impl</span> <span class='ident'>Hash</span> <span class='kw'>for</span> <span class='ident'>Board</span> {
    <span class='kw'>fn</span> <span class='ident'>hash</span><span class='op'>&lt;</span><span class='ident'>H</span><span class='op'>&gt;</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>, <span class='ident'>state</span>: <span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='ident'>H</span>) <span class='kw'>where</span> <span class='ident'>H</span>: <span class='ident'>Hasher</span> {
        <span class='self'>self</span>.<span class='number'>0</span>.<span class='ident'>hash</span>(<span class='ident'>state</span>);
        <span class='kw'>if</span> <span class='self'>self</span>.<span class='number'>1</span> <span class='op'>%</span> <span class='number'>2</span> <span class='op'>==</span> <span class='number'>0</span> {
            <span class='ident'>Mark</span>::<span class='ident'>X</span>.<span class='ident'>hash</span>(<span class='ident'>state</span>);
        } <span class='kw'>else</span> {
            <span class='ident'>Mark</span>::<span class='ident'>O</span>.<span class='ident'>hash</span>(<span class='ident'>state</span>);
        }
    }
}</pre>
</div>
            <h2 id='required-methods'>Required Methods</h2>
            <div class='methods'>
        <h3 id='tymethod.execute_ply_preallocated' class='method stab '><span id='execute_ply_preallocated.v' class='invisible'><code>fn <a href='#tymethod.execute_ply_preallocated' class='fnname'>execute_ply_preallocated</a>(&amp;self, ply: &amp;P, next: &amp;mut Self) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>,&nbsp;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>&gt;</code></span></h3><div class='docblock'><p>Executes a ply on the state, storing the resultant state in the preallocated <code>next</code>.
It is recommended to implement <code>Clone</code> on the <code>State</code> implementor manually,
to take advantage of <code>Clone</code>&#39;s <code>clone_from</code> method in order to avoid costly
allocations during a speed-critical search.</p>
</div><h3 id='tymethod.check_resolution' class='method stab '><span id='check_resolution.v' class='invisible'><code>fn <a href='#tymethod.check_resolution' class='fnname'>check_resolution</a>(&amp;self) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;R&gt;</code></span></h3><div class='docblock'><p>Returns <code>None</code> if the game has not reached a conclusion.</p>
</div></div>
            <h2 id='provided-methods'>Provided Methods</h2>
            <div class='methods'>
        <h3 id='method.execute_ply' class='method stab '><span id='execute_ply.v' class='invisible'><code>fn <a href='#method.execute_ply' class='fnname'>execute_ply</a>(&amp;self, ply: &amp;P) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;Self,&nbsp;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>&gt;</code></span></h3><div class='docblock'><p>Clones the state and then calls <code>execute_ply_preallocated</code>.</p>
</div><h3 id='method.execute_plies' class='method stab '><span id='execute_plies.v' class='invisible'><code>fn <a href='#method.execute_plies' class='fnname'>execute_plies</a>(&amp;self, plies: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;[</a>P<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;Self,&nbsp;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>&gt;</code></span></h3><div class='docblock'><p>Executes each ply in <code>plies</code> on the result of the previous ply.</p>
</div></div>
        <h2 id='implementors'>Implementors</h2>
        <ul class='item-list' id='implementors-list'>
    </ul><script type="text/javascript" async
                         src="../implementors/zero_sum/trait.State.js">
                 </script></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "zero_sum";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>